<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Experimental Films Online - Selección Kwalhia:{{film}} by {{filmmaker}} / {{country}} </title>
    <meta property="og:image" content="../../assets/img/ElSolBrillaParaTodxs.png">
    <meta name="description"
        content="sinopsis: {{country}} Watch experimental films online. Mira cine experimental online. ">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/film_player.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
     integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
     crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<style>
 

</style>
<main class="film_screen">
    <div id="gifCarousel" class="carousel slide" data-ride="carousel" data-interval="30000">
            <h2>hola</h2>
        <!-- The slideshow -->
        <div class="carousel-inner">
            <!-- Items will be inserted dynamically -->
        </div>
        
        <!-- Left and right controls -->
        <a class="carousel-control-prev" href="#gifCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#gifCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <section class="seleccion">
        <a href="https://kwalhia.com"> <img src="assets/img/kwh_logo.png" alt=""> </a>
        <video muted autoplay loop src="assets/laurel.mp4" alt=""></video>
        <h1>Selección Kwalhia</h1>
    </section>
    <div class="container posters">
        <div class="row" id="postersRow">
           
            <!-- Poster elements will be inserted here by JavaScript -->
        </div>
    </div>
</main>

<script src="assets/js/jquery-3.7.1.min.js"></script>
<script src="assets/js/boostrap.min.js"></script>

<script>
    $(document).ready(function () {
        // Shuffle function
        function shuffleArray(array) {
            var currentIndex = array.length, temporaryValue, randomIndex;
            // While there remain elements to shuffle...
            while (0 !== currentIndex) {
                // Pick a remaining element...
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex -= 1;

                // And swap it with the current element.
                temporaryValue = array[currentIndex];
                array[currentIndex] = array[randomIndex];
                array[randomIndex] = temporaryValue;
            }
            return array;
        }

        // Fetch and process JSON data for the carousel
        $.getJSON('assets/2023/efoDB_023_v3.json', function (data) {
            // Shuffle the data array
            shuffleArray(data);

            // Get 5 random entries from the shuffled array for the carousel
            var randomGifs = data.slice(0, 5).map(function (item) {
                return '../assets/2023/gifs/' + item.gif; // Adjust the path as necessary
            });

            // Create carousel items and add them to the carousel-inner
            var carouselInner = $('#gifCarousel .carousel-inner');
            randomGifs.forEach(function (src, index) {
                // The first item needs to be active
                var itemClass = (index === 0) ? 'carousel-item active' : 'carousel-item';

                // Create carousel item
                var carouselItem = $('<div>').addClass(itemClass).append(
                    $('<img>').addClass('d-block w-100').attr('src', src).attr('alt', 'GIF ' + (index + 1))
                );

                // Add item to carousel
                carouselInner.append(carouselItem);
            });

            // Initialize the carousel
            $('#gifCarousel').carousel();
        });

        $.getJSON('assets/2023/efoDB_023_v3.json', function (data) {
            // Shuffle the data array for the posters
            shuffleArray(data);

            // Limit the array to the first 12 elements for 3 rows of 4 posters each
            var limitedPosters = data.slice(0, 12).map(function (item) {
                return '../assets/2023/posters/' + item.poster + '.jpg'; // Adjust the path as necessary
            });

            // Select the container where the posters will be appended
            var postersRow = $('#postersRow');

            // Clear existing content (if any)
            postersRow.empty();

            // Dynamically create and append up to 12 poster elements
            limitedPosters.forEach(function (posterSrc, index) {
                var colDiv = $('<div>').addClass('col-sm-6 col-md-3 col-lg-3 poster-display');
                var imgTag = $('<img>').attr('src', posterSrc).attr('alt', 'Poster ' + (index + 1));
                colDiv.append(imgTag);
                postersRow.append(colDiv);
            });
        });

    });
</script>





</body>

</html>